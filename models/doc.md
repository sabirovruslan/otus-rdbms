# Schema documentation

Generated by MySQL Workbench Model Documentation v1.0.0 - Copyright (c) 2015 Hieu Le

## Table: `client`

### Description: 



### Columns: 

| Column | Data type | Attributes | Default | Description |
| --- | --- | --- | --- | ---  |
| `id` | INT | PRIMARY, Auto increments, Not null |   | Удобное целочисленное автоинкрементное поле, достаточное для идентификации уникальных клиентов |
| `name` | VARCHAR(50) | Not null |   | Для хранения строкового значения имени клиента, 50 символов достаточно для длинных имен |
| `suname` | VARCHAR(50) | Not null |   | Для хранения строкового значения фамилии клиента, 50 символов достаточно для длинных значений |
| `phone` | VARCHAR(11) | Not null |   | Для хранения номера телефона клиента, 11 символов достаточно для хранения номеров вида 79281001010 |
| `create_date` | DATETIME | Not null | `CURRENT_TIMESTAMP` | Для хранения даты и времени регистрации клиента, удобно хранит дату и время регистрации |
| `update_date` | DATETIME |  | `CURRENT_TIMESTAMP` | Для хранения даты и времени обновления данных клиента, удобно хранит дату и время обновления |
| `discount_id` | SMALLINT |  |   |  **foreign key** to column `id` on table `discount`. |


### Indices: 

| Name | Columns | Type | Description |
| --- | --- | --- | --- |
| PRIMARY | `id` | PRIMARY |   |
| idx_phone | `phone` | INDEX | Для поиска по номеру телефона |
| idx_suname_name | `suname`, `name` | INDEX | Для поиска по имени и фамилии клиента |
| fk_client_discount_idx | `discount_id` | INDEX |   |


## Table: `order`

### Description: 



### Columns: 

| Column | Data type | Attributes | Default | Description |
| --- | --- | --- | --- | ---  |
| `id` | BIGINT | PRIMARY, Not null |   | Удобное целочисленное автоинкрементное поле, достаточное для идентификации большого количества заказов |
| `number_persons` | TINYINT | Not null |   | Для хранения количества персон, полностью удовлетворяет, небольшой ресторан с одновременной вместимостью 120 человек |
| `create_date` | DATETIME | Not null | `CURRENT_TIMESTAMP` | Для хранения даты и времени создания заказа, удобно хранит дату и время |
| `update_date` | DATETIME |  | `CURRENT_TIMESTAMP` | Для хранения даты и времени обновления данных заказа, удобно хранит дату и время обновления |
| `begin_date` | DATETIME | Not null |   | Для хранения даты и времени начала заказа, удобно хранит дату и время |
| `finish_date` | DATETIME | Not null |   | Для хранения даты и времени окончания заказа, удобно хранит дату и время |
| `client_id` | INT | Not null |   | Внешний идентификатор клиента<br /><br />**foreign key** to column `id` on table `client`. |
| `waiter_id` | SMALLINT | Not null |   | Внешний идентификатор официанта<br /><br />**foreign key** to column `id` on table `waiter`. |
| `account_id` | BIGINT | Not null |   | Внешний идентификатор счета<br /><br />**foreign key** to column `id` on table `account`. |
| `status_id` | SMALLINT | Not null |   | Внешний идентификатор, статус заказа вынесен в отдельную таблицу справочник<br /><br />**foreign key** to column `id` on table `order_dictionary`. |


### Indices: 

| Name | Columns | Type | Description |
| --- | --- | --- | --- |
| PRIMARY | `id` | PRIMARY |   |
| fk__idx | `client_id` | INDEX |   |
| fk_order_waiter_idx | `waiter_id` | INDEX |   |
| fk_order_account1_idx | `account_id` | INDEX |   |
| fk_order_dictionary1_idx | `status_id` | INDEX |   |
| idx_begin_and_finish_dates | `begin_date`, `finish_date` | INDEX | Для поиска по диапазону дат |


## Table: `dish`

### Description: 



### Columns: 

| Column | Data type | Attributes | Default | Description |
| --- | --- | --- | --- | ---  |
| `id` | SMALLINT | PRIMARY, Auto increments, Not null |   | Удобное целочисленное автоинкрементное поле, достаточное для идентификации блюд |
| `name` | VARCHAR(255) | Not null |   | Для хранения строкового значения названия блюда, может быть достаточно длинное, 255 символов достаточно |
| `price` | DECIMAL | Not null |   | Для хранения суммы за 1 блюдо, позволяет определить точность |
| `create_date` | DATETIME | Not null | `CURRENT DATETIME` | Для хранения даты и времени добавления блюда, удобно хранит дату и время |
| `update_date` | DATETIME |  | `CURRENT_TIMESTAMP` | Для хранения даты и времени обновления данных блюда, удобно хранит дату и время обновления |


### Indices: 

| Name | Columns | Type | Description |
| --- | --- | --- | --- |
| PRIMARY | `id` | PRIMARY |   |
| idx_name | `name` | INDEX | Для поиска блюда по названию |
| idx_price | `price` | INDEX | Для поиска по диапазону цен |


## Table: `order_dishes`

### Description: 



### Columns: 

| Column | Data type | Attributes | Default | Description |
| --- | --- | --- | --- | ---  |
| `order_id` | BIGINT | PRIMARY, Not null |   | Первичный ключ заказа, часть составного ключа<br /><br />**foreign key** to column `id` on table `order`. |
| `dish_id` | SMALLINT | PRIMARY, Not null |   | Первичный ключ блюда, часть составного ключа<br /><br />**foreign key** to column `id` on table `dish`. |
| `amount` | SMALLINT | Not null | `1` | Для хранения количества порций, одновременно количество блюда может быть более 200 |
| `create_date` | DATETIME | Not null | `CURRENT DATETIME` | Для хранения даты и времени добавления блюда к заказу, удобно хранит дату и время |


### Indices: 

| Name | Columns | Type | Description |
| --- | --- | --- | --- |
| PRIMARY | `order_id`, `dish_id` | PRIMARY |   |
| fk_order_dishes_dish1_idx | `dish_id` | INDEX |   |
| idx_fk_order_id | `order_id` | INDEX |   |


## Table: `waiter`

### Description: 



### Columns: 

| Column | Data type | Attributes | Default | Description |
| --- | --- | --- | --- | ---  |
| `id` | SMALLINT | PRIMARY, Auto increments, Not null |   | Удобное целочисленное автоинкрементное поле, достаточное для идентификации официантов |
| `name` | VARCHAR(50) | Not null |   | Для хранения строкового значения имени официанта, 50 символов достаточно для длинных имен |
| `suname` | VARCHAR(50) | Not null |   | Для хранения строкового значения фамилии официанта, 50 символов достаточно для длинных значений |
| `create_date` | DATETIME | Not null | `CURRENT DATETIME` | Для хранения даты и времени регистрации официанта, удобно хранит дату и время регистрации |
| `update_date` | DATETIME |  | `CURRENT_TIMESTAMP` | Для хранения даты и времени обновления данных официанта, удобно хранит дату и время обновления |


### Indices: 

| Name | Columns | Type | Description |
| --- | --- | --- | --- |
| PRIMARY | `id` | PRIMARY |   |
| idx_name | `name` | INDEX |   |


## Table: `account`

### Description: 



### Columns: 

| Column | Data type | Attributes | Default | Description |
| --- | --- | --- | --- | ---  |
| `id` | BIGINT | PRIMARY, Auto increments, Not null |   | Удобное целочисленное автоинкрементное поле, удовлетворяет возможному большому количеству счетов |
| `prepayment` | DECIMAL | Not null | `0` | Для хранения суммы предоплаты по  счету, позволяет хранить большое значение, определить точность |
| `create_date` | DATETIME | Not null | `CURRENT_TIMESTAMP` | Для хранения даты и времени создания счета, удобно хранит дату и время |
| `update_date` | DATETIME |  | `CURRENT_TIMESTAMP` | Для хранения даты и времени обновления данных счета, удобно хранит дату и время обновления |
| `discount_id` | SMALLINT |  | `0` | Для хранения размера скидки в числовом виде, достаточный тип для хранения значения в диапазоне от 0 до 99<br /><br />**foreign key** to column `id` on table `discount`. |
| `payment_type_id` | SMALLINT | Not null |   | Внешний идентификатор, тип оплаты вынесен в отдельную таблицу справочник<br /><br />**foreign key** to column `id` on table `account_dictionary`. |
| `status_id` | SMALLINT | Not null |   | Внешний идентификатор, статус оплаты вынесен в отдельную таблицу справочник<br /><br />**foreign key** to column `id` on table `account_dictionary`. |


### Indices: 

| Name | Columns | Type | Description |
| --- | --- | --- | --- |
| PRIMARY | `id` | PRIMARY |   |
| fk_account_dictionary1_idx | `status_id` | INDEX |   |
| fk_account_dictionary2_idx | `payment_type_id` | INDEX |   |
| fk_account_discount_idx | `discount_id` | INDEX |   |


## Table: `restaurant_table`

### Description: 



### Columns: 

| Column | Data type | Attributes | Default | Description |
| --- | --- | --- | --- | ---  |
| `id` | SMALLINT | PRIMARY, Auto increments, Not null |   | Удобное целочисленное автоинкрементное поле, удовлетворяет для количества столиков |
| `name` | VARCHAR(45) | Not null |   | Для хранения строкового значения названия столика, 45 символов достаточно для названия столика |
| `number_seats` | TINYINT | Not null | `2` | Для хранения количества мест за столиком, полностью удовлетворяет |


### Indices: 

| Name | Columns | Type | Description |
| --- | --- | --- | --- |
| PRIMARY | `id` | PRIMARY |   |
| idx_number_seats | `number_seats` | INDEX | Для поиска по диапазону количества мест за столиком |


## Table: `order_tables`

### Description: 



### Columns: 

| Column | Data type | Attributes | Default | Description |
| --- | --- | --- | --- | ---  |
| `order_id` | BIGINT | PRIMARY, Not null |   | Первичный ключ заказа, часть составного ключа<br /><br />**foreign key** to column `id` on table `order`. |
| `table_id` | SMALLINT | PRIMARY, Not null |   | Первичный ключ столика, часть составного ключа<br /><br />**foreign key** to column `id` on table `restaurant_table`. |
| `create_date` | DATETIME | Not null | `CURRENT DATETIME` | Для хранения даты и времени добавления столика к заказу, удобно хранит дату и время |


### Indices: 

| Name | Columns | Type | Description |
| --- | --- | --- | --- |
| PRIMARY | `order_id`, `table_id` | PRIMARY |   |
| fk_order_tables_order1_idx | `order_id` | INDEX |   |
| fk_order_tables_table1_idx | `table_id` | INDEX |   |


## Table: `order_dictionary`

### Description: 



### Columns: 

| Column | Data type | Attributes | Default | Description |
| --- | --- | --- | --- | ---  |
| `id` | SMALLINT | PRIMARY, Auto increments, Not null |   | Удобное целочисленное автоинкрементное поле, достаточное для идентификации справочников |
| `name` | VARCHAR(45) | Not null |   | Для хранения строкового значения имени справочника, 45 символов достаточно |
| `code` | VARCHAR(45) | Not null |   | Для хранения строкового значения символьного кода справочника, 45 символов достаточно |
| `description` | VARCHAR(255) |  |   | Для хранения строкового значения краткого описания, 255 символов достаточно |


### Indices: 

| Name | Columns | Type | Description |
| --- | --- | --- | --- |
| PRIMARY | `id` | PRIMARY |   |
| idx_name | `name` | INDEX | Для поиска названию справочника |
| idx_code | `code` | INDEX |   |


## Table: `account_dictionary`

### Description: 



### Columns: 

| Column | Data type | Attributes | Default | Description |
| --- | --- | --- | --- | ---  |
| `id` | SMALLINT | PRIMARY, Auto increments, Not null |   | Удобное целочисленное автоинкрементное поле, достаточное для идентификации справочников |
| `name` | VARCHAR(45) | Not null |   | Для хранения строкового значения имени справочника, 45 символов достаточно |
| `code` | VARCHAR(45) | Not null |   | Для хранения строкового значения символьного кода справочника, 45 символов достаточно |
| `description` | VARCHAR(255) |  |   | Для хранения строкового значения краткого описания, 255 символов достаточно |


### Indices: 

| Name | Columns | Type | Description |
| --- | --- | --- | --- |
| PRIMARY | `id` | PRIMARY |   |
| idx_name | `name` | INDEX | Для поиска названию справочника |
| idx_code |  | INDEX |   |


## Table: `discount`

### Description: 



### Columns: 

| Column | Data type | Attributes | Default | Description |
| --- | --- | --- | --- | ---  |
| `id` | SMALLINT | PRIMARY, Auto increments, Not null |   | Удобное целочисленное автоинкрементное поле, достаточное для идентификации справочников |
| `value` | SMALLINT | Not null |   | Для хранения строкового значения символьного кода справочника, 45 символов достаточно |


### Indices: 

| Name | Columns | Type | Description |
| --- | --- | --- | --- |
| PRIMARY | `id` | PRIMARY |   |


